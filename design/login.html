
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spotify API Tutorial</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
    <header>
        <h1>Spotify API Tutorial</h1>
        <nav>
          <a href="index.html">Home</a>
          <a href="generator.html">Generator</a>
          <a href="stats.html">Stats</a>
          <a href="playlists.html">Playlists</a>
          <a href="help.html">Help</a>
          <a href="login.html"  class="selected" id="loginButton">Login</a>
      </nav>
    </header>

    <main>

        <section class="card">
            
          <p>Client ID: <input id="paste-client-id" data-sync="client_id" value="bca2a89f33694250b5b79633e3435a39"></p>


            
        </section>
        <section class="card">
            <h2 id="getting-an-authorization-code">2. Getting an Authorization Code</h2>
           

            <ul>
                <li>
                    <code>client_id</code>: <input id="login-client-id" data-sync="client_id" value="bca2a89f33694250b5b79633e3435a39" placeholder="Client ID">
                </li>
                <li>
                    <code>redirect_uri</code>: <input id="login-redirect-uri" data-sync="redirect_uri" value="https://mart32jm.github.io/design/login.html" placeholder="Redirect URI"> <span class="note">(This should be a page that is prepared to handle the returned auth code)</span>
                </li>
            </ul>

            <h3 id="making-the-request">Making the Request</h3>
            <p></p>

            <p>You will need code to generate a <code>code_challenge</code> and a <code>code_verifier</code>. Spotify provides source code to create these in its <a href="https://developer.spotify.com/documentation/web-api/tutorials/code-pkce-flow#code-verifier">developer documentation</a>. You should use their provided code in your own project.</p>

            <p>Here are the values we've generated for this tutorial: <button id="generate-button" type="button" class="small">Regenerate</button></p>

            <ul>
                <li><code>code_verifier</code>: <code id="code-verifier" class="graybg"></code></li>
                <li><code>code_challenge</code>: <code id="code-challenge" class="graybg"></code></li>
            </ul>



            <h3 id="try-login">Try It Yourself!</h3>
            <p>If you've set the <code>client_id</code> and the <code>redirect_uri</code> above, you can click this button to request an authorization code:</p>
            <button id="login-button" class="primary" type="button">Login with Spotify</button>
            <p>Your auth code is: <code id="auth-code" class="graybg"></code></p>
        </section>
        <section class="card">
           
            <!-- HTML generated using hilite.me -->

            <h3 id="making-the-token-request">Making the Request</h3>
            <p>There are a few body parameters, which need to be in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example"><code>x-www-form-urlencoded</code></a> format. These are:</p>
            <ul>
                <li><code>grant_type</code>: <code class="graybg">"authorization_code"</code> <span class="note">(a string literal)</span></li>
                <li><code>client_id</code>: <code data-sync="client_id" class="graybg"></code> <span class="note">(same as before)</span></li>
                <li><code>redirect_uri</code>: <code data-sync="redirect_uri" class="graybg"></code> <span class="note">(same one used to request the auth code)</span></li>
                <li><code>code_verifier</code>: <code id="code-verifier-body" class="graybg"></code> <span class="note">(value from <code>localStorage</code>)</span></li>
                <li><code>code</code>: <code id="auth-code-body" class="graybg"></code> <span class="note">(from the URL)</span></li>
            </ul>

            <p>Here is an example of a request that exchanges the auth code for an access token:</p>

            <!-- HTML generated using hilite.me -->


            <h3 id="try-token">Try It Yourself!</h3>
            <p>If you've successfully obtained an auth code, you can click this button to exchange it for an access token:</p>
            <button id="token-button" class="primary" type="button">Get Access Token</button>
            <p>Your access token is: <code id="access-token" class="graybg"></code></p>

        </section>
        <section class="card">

            <button id="profile-button" class="primary" type="button">Get User Profile</button>
            <p>Your user profile is: <code id="profile-name" class="graybg"></code></p>
            <img id="profile-image" src="https://placehold.co/300x300" alt="User profile">
        </section>
    </main>


    <script src="../scripts/spotify.js"></script>
    <script src="../scripts/tutorial.js"></script>
</body>
</html>